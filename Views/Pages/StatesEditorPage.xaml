<Page x:Class="AdaptiveSpritesDMItool.Views.Pages.StatesEditorPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:AdaptiveSpritesDMItool.Views.Pages"
      
      xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
      d:DesignHeight="500" 
      d:DesignWidth="800"
      d:DataContext="{d:DesignInstance local:StatesEditorPage, IsDesignTimeCreatable=False}"
      ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
      ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
      Foreground="{DynamicResource TextFillColorPrimaryBrush}"
      
      Title="StatesEditorPage"
      mc:Ignorable="d" >

    <Grid VerticalAlignment="Top">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!--<ScrollViewer
                Name="ForegroundElement"
                IsTabStop="True"
                HorizontalAlignment="Stretch">
            <StackPanel HorizontalAlignment="Left">



            </StackPanel>
        </ScrollViewer>-->




        <!--<Viewbox x:Name="imageViewbox" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,0,-109,156" Grid.RowSpan="2" >
            <Image x:Name="imgTest" VerticalAlignment="Center" HorizontalAlignment="Center" OpacityMask="#FF332222"/>
        </Viewbox>-->

        <!--ToolBar-->
        <Grid Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>



            <ToolBar Grid.Row="0" VerticalAlignment="Top">

                <!--Take pixels from the preview and move them to the editable part-->
                <Separator Margin="6,0,10,0" />
                <ui:Button
                        x:Name="SingleButton"
                        Appearance="Primary"
                        Icon="{ui:SymbolIcon AddSquare24}" Click="SingleButton_Click" />
                <ui:Button
                        x:Name="FillButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon Grid24}" Click="FillButton_Click" />
                <ui:Button
                        x:Name="PickButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon EyeDropper24}" Click="PickButton_Click" />
                <ui:Button
                        x:Name="DeleteButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon Eraser24}" Click="DeleteButton_Click" />

                <!--Move pixels of the edited part-->
                <Separator Margin="6,0,6,0" />
                <ui:Button
                        x:Name="SelectButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon SquareHintApps24}" Click="SelectButton_Click" />
                <ui:Button
                        x:Name="MoveButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon ArrowMove24}" Click="MoveButton_Click" />

                <!--Switches "One, Horizontal, Vertical, All" states-->
                <Separator Margin="10,0,10,0" />
                <TextBlock Text="States: " VerticalAlignment="Center"/>
                <ui:Button
                        x:Name="ChooseSingleStateButton"
                        Appearance="Primary"
                        Icon="{ui:SymbolIcon Square24}" Click="ChooseSingleStateButton_Click" />
                <ui:Button
                        x:Name="ChooseParallelStatesButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon TableCellsMerge24}" Click="ChooseParallelStatesButton_Click" />
                <!--<ui:Button
                        x:Name="ChooseTwoVerticalStatesButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon SplitVertical24}" />
                <ui:Button
                        x:Name="ChooseTwoHorizontalStatesButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon SplitHorizontal24}" />-->
                <ui:Button
                        x:Name="ChooseAllStatesButton"
                        Appearance="Secondary"
                        Icon="{ui:SymbolIcon TableSimple24}" Click="ChooseAllStatesButton_Click" />

            </ToolBar>

        </Grid>

        <!--Edit State Windows-->
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Row="0" Grid.Column="0"
                    Margin="12,12,12,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Viewbox Grid.Row="0" Grid.Column="0"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <!--HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"-->
                        <!--Width="{Binding ActualHeight, RelativeSource={RelativeSource Self}}" 
                    Height="{Binding ActualWidth, RelativeSource={RelativeSource Self}}">-->
                        <Image x:Name="imageLeftPreviewSouth"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased">
                        </Image>
                    </Border>
                </Viewbox>

                <Viewbox Grid.Row="0" Grid.Column="1"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <Image x:Name="imageRightPreviewSouth"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased" MouseDown="imageRightPreviewSouth_MouseDown" MouseUp="imageRightPreviewSouth_MouseUp" MouseMove="imageRightPreviewSouth_MouseMove">
                        </Image>
                    </Border>
                </Viewbox>
            </Grid>

            
            <Grid Grid.Row="0" Grid.Column="1"
                    Margin="12,12,12,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Viewbox Grid.Row="0" Grid.Column="0"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <!--Width="{Binding ActualHeight, RelativeSource={RelativeSource Self}}" 
                    Height="{Binding ActualWidth, RelativeSource={RelativeSource Self}}">-->
                        <Image x:Name="imageLeftPreviewNorth"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased">
                        </Image>
                    </Border>
                </Viewbox>

                <Viewbox Grid.Row="0" Grid.Column="1"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <Image x:Name="imageRightPreviewNorth"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased" MouseDown="imageRightPreviewNorth_MouseDown" MouseMove="imageRightPreviewNorth_MouseMove" MouseUp="imageRightPreviewNorth_MouseUp">
                        </Image>
                    </Border>
                </Viewbox>
            </Grid>


            <Grid Grid.Row="1" Grid.Column="0"
                    Margin="12,12,12,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Viewbox Grid.Row="0" Grid.Column="0"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <!--Width="{Binding ActualHeight, RelativeSource={RelativeSource Self}}" 
                    Height="{Binding ActualWidth, RelativeSource={RelativeSource Self}}">-->
                        <Image x:Name="imageLeftPreviewEast"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased">
                        </Image>
                    </Border>
                </Viewbox>

                <Viewbox Grid.Row="0" Grid.Column="1"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <Image x:Name="imageRightPreviewEast"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased" MouseDown="imageRightPreviewEast_MouseDown" MouseMove="imageRightPreviewEast_MouseMove" MouseUp="imageRightPreviewEast_MouseUp">
                        </Image>
                    </Border>
                </Viewbox>

            </Grid>


            <Grid Grid.Row="1" Grid.Column="1"
                    Margin="12,12,12,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Viewbox Grid.Row="0" Grid.Column="0"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <!--Width="{Binding ActualHeight, RelativeSource={RelativeSource Self}}" 
                    Height="{Binding ActualWidth, RelativeSource={RelativeSource Self}}">-->
                        <Image x:Name="imageLeftPreviewWest"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased">
                        </Image>
                    </Border>
                </Viewbox>

                <Viewbox Grid.Row="0" Grid.Column="1"
                    Margin="6,6,6,6">
                    <Border
                    BorderBrush="Black" BorderThickness="0.5"
                    MinWidth="100" MinHeight="100">
                        <Image x:Name="imageRightPreviewWest"                               
                               RenderOptions.BitmapScalingMode="NearestNeighbor" 
                               RenderOptions.EdgeMode="Aliased" MouseDown="imageRightPreviewWest_MouseDown" MouseMove="imageRightPreviewWest_MouseMove" MouseUp="imageRightPreviewWest_MouseUp"/>
                    </Border>
                </Viewbox>
            </Grid>


        </Grid>

    </Grid>
</Page>
